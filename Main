/*
Construa uma calculadora programador didática (didática significa que deve ser mostrado os passos na tela das operações efetuadas),  implementada na linguagem C, que tenha as seguintes conversões
1 - de base 10 para:
a)base 2,
b) base 8,
c) base16, 
d) código BCD

2 - de base 10  para base com sinal com 16 bits, (complemento a 2)
3 - converter real em decimal para float e double, mostrando os respectivos bits de sinal , expoente, expoente com viés e fração
*/

#include <stdio.h>
#include <stdlib.h>

typedef struct node{
  int num;
  struct node *prox;
} node;

void empilhar(node **head, int num){
  node *novo=(node *)malloc(sizeof(node));
  if(novo!=NULL){
    novo->num=num;
    novo->prox=*head;
    *head=novo;
  }
}

int imprimirPilha(node *head){
  while (head!=NULL){
    printf("%d", head->num);
    head=head->prox;
  }
}

void base2(int num){
  
  int divisao=0, resto=0, inicial=num;
  node *head=NULL;
  

  printf("\n");

  while(num!=0){
    
    divisao=num/2;
    resto=num%2;
    
    printf("%d/2 = %d, resto=%d\n ", num, divisao, resto);

    empilhar(&head, resto);
    
    num=divisao;
  }
 
  printf("\n%d na base 10 é igual a ", inicial);
  imprimirPilha(head);
  printf(" na base 2\n");
  
}



int main(void){

  int menu=1, base=0, num=0;
  
  node *head=NULL;
  
  printf("Calculadora didática em C\n\n");

  while (menu==1 || menu ==2 || menu ==3 || menu ==4){
    
    printf("\nDigite o número da operação desejada:\n\n1- Converter número de base 10 para base 2, base 8, base 16 ou código BCD\n2- Converter número de base 10 para base com sinal com 16 bits, (complemento a 2)\n3- Converter real em decimal para float e double, mostrando os respectivos bits de sinal , expoente, expoente com viés e fração\n4- Encerrar programa\n");
    
    scanf("%d", &menu);

    if (menu==1){
      
      printf("\nEscolha o número referente a base para a qual deseja converter:\n1- Base 2\n2- Base 8\n 3- Base 16\n4- Código BCD\n");
      
      scanf("%d", &base);
      
      if(base==1){
        
        printf("Digite o número que deseja converter:\n");
        scanf("%d", &num);
        base2(num);
      }
      else if(base==2){
        
      }
      else if(base==3){
        
      }
      else if(base==4){
        
      }
    }
    else if (menu==2){

    }
    else if (menu==3){

    }
    else if (menu==4){
      break;
    }
  }
}
